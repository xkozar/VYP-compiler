#! /bin/vypint
# VYPcode: 1.0
# Generated by: xkozar02

ALIAS FP $0
JUMP main


LABEL printi
	WRITEI [$SP - 2]
    WRITES "\n"
	SUBI $SP, $SP, 2
	RETURN [$SP + 2]



LABEL prints
	WRITES [$SP - 2]
    WRITES "\n"
	SUBI $SP, $SP, 2
	RETURN [$SP + 2]



LABEL concat
    GETSIZE $4, [$SP - 3] # Left string
    GETSIZE $5, [$SP - 2] # Right string
    COPY $6, [$SP - 3]
    ADDI $1, $4, $5 # Total length
    RESIZE $6, $1
    SET $2, 0

    LABEL concat_start
    LTI $1, $2, $5
    JUMPZ concat_end, $1

    GETWORD $1, [$SP-2], $2
    ADDI $7, $2, $4
    SETWORD $6, $7, $1

    ADDI $2, $2, 1
    JUMP concat_start
    LABEL concat_end

    SUBI $SP, $SP, 3
    SET [$SP], $6
    ADDI $SP, $SP, 1
    RETURN [$SP + 2]


LABEL main
	#Function start
	ADDI $SP, $SP, 1
	SET $FP, $SP

	#Create variable x
	SET [$FP+ 0], 0
	# Restore stack pointer
	ADDI $SP, $FP, 1

	#Int literal expression 10
	SET [$SP], 10
	ADDI $SP, $SP, 1

	# Variable assignment x
	SUBI $SP, $SP, 1
	SET [$FP+ 0], [$SP]

	# Restore stack pointer
	ADDI $SP, $FP, 1

	# Calling function test
	SET [$SP], $FP
	ADDI $SP, $SP, 1
	CALL [$SP], test

	# Restore stack pointer
	ADDI $SP, $FP, 1

	# Variable expression
	SET [$SP], [$FP+ 0]
	ADDI $SP, $SP, 1

	# Calling function printi
	SET [$SP], $FP
	ADDI $SP, $SP, 1
	CALL [$SP], printi

	# Restore stack pointer
	ADDI $SP, $FP, 1


	JUMP __END


LABEL test
	#Function start
	ADDI $SP, $SP, 1
	SET $FP, $SP

	#Create variable y
	SET [$FP+ 0], 0
	# Restore stack pointer
	ADDI $SP, $FP, 1

	#Int literal expression 100
	SET [$SP], 100
	ADDI $SP, $SP, 1

	# Variable assignment y
	SUBI $SP, $SP, 1
	SET [$FP+ 0], [$SP]

	# Restore stack pointer
	ADDI $SP, $FP, 1

	# Return value
	SET $2, [$FP - 1]
	SET $3, [$FP - 2]
	SUBI $SP, $SP, 1
	SET [$FP - 2], [$SP]
	SUBI $SP, $FP, 1
	SET $FP, $3
	RETURN $2



LABEL __END
